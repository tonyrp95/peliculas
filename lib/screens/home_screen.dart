import 'package:flutter/material.dart';

import 'package:provider/provider.dart';

import 'package:peliculas/search/search_delegate.dart';
import 'package:peliculas/providers/movies_provider.dart';
import 'package:peliculas/widgets/widgets.dart';


class HomeScreen extends StatelessWidget {

  
  
  @override
  Widget build(BuildContext context) {

    final moviesProvider = Provider.of<MoviesProvider>(context);

    return Scaffold(
      appBar: AppBar(
        title: Text('Catalogo'),
        elevation: 0, 
        actions: [
          Image.network(
          'data:image/jpeg;base64,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',
          width: 1150,
          
          
          ),
          
          IconButton(
            icon: Icon( Icons.search_outlined ),
            onPressed: () => showSearch(context: context, delegate: MovieSearchDelegate() ),
          ),
        ], 
      ),

      body: SingleChildScrollView(
        child: Column(
          children: [

            // Tarjetas principales
            CardSwiper( movies: moviesProvider.onDisplayMovies ),

            // Slider de pelÃ­culas
            MovieSlider(
              movies: moviesProvider.popularMovies,// populares,
              title: 'Populares', // opcional
              onNextPage: () => moviesProvider.getPopularMovies(),
            ),
            
          ],
        ),
      )
    );
  }
}